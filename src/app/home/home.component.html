<!-- 
<div class="spotify-sidebar">
  <h4 class="spotify-logo">Spotify</h4>
  <ul class="nav-links">
    <li *ngIf="!isLoggedIn"><a routerLink="/login">Login</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/liked-songs">Liked Songs</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/playlists">Playlists</a></li>
    <li *ngIf="isLoggedIn"><button (click)="logout()" class="logout-btn">Logout</button></li>
  </ul>
</div>

<div class="spotify-main">
  <div class="home-container">
    <div class="home-card text-center">
      <div *ngIf="songs.length > 0">
        <div class="dfg" *ngIf="isLoggedIn">
          <div *ngFor="let song of songs" class="song-item">
            <img [src]="'http://localhost:3000/public/' + song.albumCover" alt="Album Cover" class="album-cover">
            <div class="song-info">
              <p>{{ song.title }} by {{ song.artist }}</p>
              <button (click)="playSong(song)" class="btn btn-primary">
                {{ currentSong && currentSong._id === song._id ? 'Pause' : 'Play' }}
              </button>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!isLoggedIn" class="mt-3 text-danger">
        Please log in to access the Spotify content.
      </p>
    </div>
  </div>
</div> -->

<!-- <div class="spotify-sidebar">
  <h4 class="spotify-logo">Spotify</h4>
  <ul class="nav-links">
    <li *ngIf="!isLoggedIn"><a routerLink="/login">Login</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/liked-songs">Liked Songs</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/playlists">Playlists</a></li>
    <li *ngIf="isLoggedIn"><button (click)="logout()" class="logout-btn">Logout</button></li>
  </ul>
</div>


<div class="spotify-main">
  <div class="home-container">
    <div class="home-card text-center">
      <div *ngIf="songs.length > 0">
        <div class="dfg" *ngIf="isLoggedIn">
          <div *ngFor="let song of songs" class="song-item">
            <img [src]="'http://localhost:3000/public/' + song.albumCover" alt="Album Cover" class="album-cover">
            <div class="song-info">
              <p>{{ song.title }} by {{ song.artist }}</p>
              <button (click)="playSong(song)" class="btn btn-primary">
                {{ currentSong && currentSong._id === song._id ? 'Pause' : 'Play' }}
              </button>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!isLoggedIn" class="mt-3 text-danger">
        Please log in to access the Spotify content.
      </p>
    </div>

  
    <div *ngIf="currentSong" class="controls">
      <button (click)="previousSong()" class="btn btn-secondary">Previous</button>
      <button (click)="nextSong()" class="btn btn-secondary">Next</button>
      <div class="volume-control">
        <label for="volume">Volume: </label>
        <input
          type="range"
          id="volume"
          min="0"
          max="1"
          step="0.01"
          [(ngModel)]="volume"
          (change)="setVolume(volume)"
        />
      </div>
    </div>
  </div>
</div> -->

<!-- 
<div class="spotify-sidebar">
  <h4 class="spotify-logo">Spotify</h4>
  <ul class="nav-links">
    <li *ngIf="!isLoggedIn"><a routerLink="/login">Login</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/liked-songs">Liked Songs</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/playlists">Playlists</a></li>
    <li *ngIf="isLoggedIn"><button (click)="logout()" class="logout-btn">Logout</button></li>
  </ul>
</div>

<div class="spotify-main">
  <div class="home-container">
    <div class="home-card text-center">
      <div *ngIf="songs.length > 0">
        <div class="dfg" *ngIf="isLoggedIn">
         
          <div *ngFor="let song of songs" 
               class="song-item" 
               [class.enlarged]="currentSong && currentSong._id === song._id"
               (click)="playSong(song)">
            <img [src]="'http://localhost:3000/public/' + song.albumCover" alt="Album Cover" class="album-cover">
            <div class="song-info">
              <p>{{ song.title }} by {{ song.artist }}</p>
              <button (click)="playSong(song)" class="btn btn-primary">
                {{ isSongPlaying && currentSong && currentSong._id === song._id ? 'Pause' : 'Play' }}
              </button>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!isLoggedIn" class="mt-3 text-danger">
        Please log in to access the Spotify content.
      </p>
    </div>
  </div>
</div>

<div *ngIf="currentSong" class="bottom-bar">
  <div class="song-player">
    <img [src]="'http://localhost:3000/public/' + currentSong.albumCover" alt="Album Cover" class="album-cover-large">
    <div class="song-info">
      <p>{{ currentSong.title }} - {{ currentSong.artist }}</p>
    </div>
    <div class="controls">
      <button (click)="previousSong()" class="btn btn-secondary">Previous</button>
      <button (click)="playSong(currentSong)" class="btn btn-primary">
        {{ isSongPlaying ? 'Pause' : 'Play' }}
      </button>
      <button (click)="nextSong()" class="btn btn-secondary">Next</button>
      
      <div class="seek-bar">
        <input 
          type="range" 
          min="0" 
          max="100" 
          [(ngModel)]="seekPosition"
          (input)="setSeekPosition($event)"
        />
      </div>

      <div class="volume-control">
        <label for="volume">Volume: </label>
        <input
          type="range"
          id="volume"
          min="0"
          max="1"
          step="0.01"
          [(ngModel)]="volume"
          (change)="setVolume(volume)"
        />
      </div>
    </div>
  </div>
</div>  -->



<!-- <div class="spotify-sidebar">
  <h4 class="spotify-logo">Spotify</h4>
  <ul class="nav-links">
    <li *ngIf="!isLoggedIn"><a routerLink="/login">Login</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/liked-songs">Liked Songs</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/playlists">Playlists</a></li>
    <li *ngIf="isLoggedIn"><button (click)="logout()" class="logout-btn">Logout</button></li>
  </ul>
</div>


<div class="spotify-main">
  <div class="home-container">
    <div class="home-card text-center">
      <div *ngIf="songs.length > 0">
        <div class="dfg" *ngIf="isLoggedIn">
       
          <div *ngFor="let song of songs" 
               class="song-item" 
               [class.playing]="currentSong && currentSong._id === song._id"
               (click)="playSong(song)">
            <img [src]="'http://localhost:3000/public/' + song.albumCover" alt="Album Cover" class="album-cover">
            <div class="song-info">
              <p>{{ song.title }} by {{ song.artist }}</p>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!isLoggedIn" class="mt-3 text-danger">
        Please log in to access the Spotify content.
      </p>
    </div>
  </div>
</div>


<div *ngIf="currentSong" class="bottom-bar">
  <div class="song-player">
    <img [src]="'http://localhost:3000/public/' + currentSong.albumCover" alt="Album Cover" class="album-cover-large">
    <div class="song-info">
      <p>{{ currentSong.title }} - {{ currentSong.artist }}</p>
    </div>
    <div class="controls">
      <button (click)="previousSong()" class="btn btn-secondary">Previous</button>
      <button (click)="playSong(currentSong)" class="btn btn-primary">
        {{ isSongPlaying ? 'Pause' : 'Play' }}
      </button>
      <button (click)="nextSong()" class="btn btn-secondary">Next</button>
      
      <div class="seek-bar">
        <input 
          type="range" 
          min="0" 
          max="100" 
          [(ngModel)]="seekPosition"
          (input)="setSeekPosition($event)"
        />
      </div>

      <div class="volume-control">
        <label for="volume">Volume: </label>
        <input
          type="range"
          id="volume"
          min="0"
          max="1"
          step="0.01"
          [(ngModel)]="volume"
          (change)="setVolume(volume)"
        />
      </div>
    </div>
  </div>
</div> -->
<!-- Top Navbar -->
<!-- Top Navbar -->
<div class="navbar">
  <h4 class="navbar-logo">Spotify</h4>
  <div class="navbar-search">
    <input type="text" placeholder="Search" class="search-bar" [(ngModel)]="searchQuery" (input)="searchSongs()">
  </div>
  <div class="navbar-login">
    <span *ngIf="isLoggedIn">Welcome, {{ username }}</span>
    <button *ngIf="!isLoggedIn" (click)="goToLogin()">Login</button>
    <button *ngIf="isLoggedIn" (click)="logout()">Logout</button>
  </div>
</div>

<!-- Sidebar -->
<div class="spotify-sidebar">
  <ul class="nav-links">
    <li *ngIf="isLoggedIn"><a routerLink="/liked-songs">Liked Songs</a></li>
    <li *ngIf="isLoggedIn"><a routerLink="/playlists">Playlists</a></li>
  </ul>
</div>

<!-- Main Content -->
<div class="spotify-main">
  <div class="home-container">
    <div class="home-card text-center">
      <div *ngIf="filteredSongs.length > 0">
       
          <!-- Song Cards -->
          <div *ngFor="let song of filteredSongs" 
               class="song-item" 
               [class.playing]="currentSong && currentSong._id === song._id"
               (click)="playSong(song)">
            <img [src]="'http://localhost:3000/public/' + song.albumCover" alt="Album Cover" class="album-cover">
            <div class="song-info">
              <p>{{ song.title }} by {{ song.artist }}</p>
            </div>
          </div>
      
      </div>
      
    </div>
  </div>
</div>

<!-- Bottom Bar with Controls -->
<div *ngIf="currentSong" class="bottom-bar">
  <div class="song-player">
    <img [src]="'http://localhost:3000/public/' + currentSong.albumCover" alt="Album Cover" class="album-cover-large">
    <div class="controls">
      <button (click)="previousSong()" class="btn btn-secondary">Previous</button>
      <button (click)="playSong(currentSong)" class="btn btn-primary">
        {{ isSongPlaying ? 'Pause' : 'Play' }}
      </button>
      <button (click)="nextSong()" class="btn btn-secondary">Next</button>
      
      <div class="seek-bar">
        <input 
          type="range" 
          min="0" 
          max="100" 
          [(ngModel)]="seekPosition"
          (input)="setSeekPosition($event)"
        />
      </div>

      <div class="volume-control">
        <label for="volume">Volume: </label>
        <input
          type="range"
          id="volume"
          min="0"
          max="1"
          step="0.01"
          [(ngModel)]="volume"
          (change)="setVolume(volume)"
        />
      </div>
    </div>
  </div>
</div>

